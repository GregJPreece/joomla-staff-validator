<?xml version="1.0" encoding="utf-8"?>
<extension type="component" version="3.0" method="upgrade">

	<name>Staff Validator</name>
	<!-- The following elements are optional and free of formatting constraints -->
	<creationDate>January 2019</creationDate>
	<author>Greg J Preece</author>
	<authorUrl>https://www.nicktail.com</authorUrl>
	<copyright>Greg J Preece</copyright>
	<license>GPL v3</license>
	<!--  The version string is recorded in the components table -->
	<version>0.0.11</version>
	<!-- The description is optional and defaults to the name -->
	<description>
        A helper component to allow site members to validate their identities when contacting
        people outside of the site organisation. If a site member is contacting someone via
        a method that is insecure or not easily verified, such as phone call or most e-mail, 
        this component can allow the person being contacted to validate the member as belonging
        to the website. A code is generated in advance by the site member and provided to the
        contact, who can then enter it into a public form on the website to verify its
        authenticity and the identity of the user who generated it.
    </description>

	<install> <!-- Runs on install -->
		<sql>
			<file driver="mysql" charset="utf8">sql/install.mysql.utf8.sql</file>
		</sql>
	</install>
	<uninstall> <!-- Runs on uninstall -->
		<sql>
			<file driver="mysql" charset="utf8">sql/uninstall.mysql.utf8.sql</file>
		</sql>
	</uninstall>
	<update> <!-- Runs on update; New since J2.5 -->
		<schemas>
			<schemapath type="mysql">sql/updates/mysql</schemapath>
		</schemas>
	</update>
	
	<!-- Site Main File Copy Section -->
	<!-- Note the folder attribute: This attribute describes the folder
		to copy FROM in the package to install therefore files copied
		in this section are copied from /site/ in the package -->
	<files folder="site">
		<filename>index.html</filename>
		<filename>staffvalidator.php</filename>
		<filename>controller.php</filename>
		<folder>language</folder>
		<folder>models</folder>
		<folder>views</folder>
	</files>

	<languages folder="site/language">
		<language tag="en-GB">en-GB/en-GB.com_staffvalidator.ini</language>
		<language tag="en-GB">en-GB/en-GB.com_staffvalidator.sys.ini</language>
	</languages>

	<administration>
		<!-- Administration Menu Section -->
		<menu link='index.php?option=com_staffvalidator'>Staff Validator</menu>
		<!-- Administration Main File Copy Section -->
		<!-- Note the folder attribute: This attribute describes the folder
			to copy FROM in the package to install therefore files copied
			in this section are copied from /admin/ in the package -->
		<files folder="admin">
			<filename>index.html</filename>
			<filename>staffvalidator.php</filename>
			<filename>controller.php</filename>
			<folder>language</folder>
			<folder>models</folder>
			<folder>sql</folder>
			<folder>views</folder>
		</files>

		<languages folder="admin/language">
		    <language tag="en-GB">en-GB/en-GB.com_staffvalidator.ini</language>
			<language tag="en-GB">en-GB/en-GB.com_staffvalidator.sys.ini</language>
		</languages>
	</administration>

</extension>